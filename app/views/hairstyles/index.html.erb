<h1 id="index-title">Hair Inspo</h1>
<div class="filters-container">
    <div class="filters">
      <!-- <p>Filter by:</p> -->
      <% if @search != "" %>
        <%= link_to hairstyles_path(search: @search, category: 'Braids') do %>
          <button type="button" class="btn btn-light" id="filter-btn"> Braids </button>
        <% end %>
         <%= link_to hairstyles_path(search: @search, category: 'Relaxed') do %>
          <button type="button" class="btn btn-light" id="filter-btn"> Relaxed </button>
        <% end %>
         <%= link_to hairstyles_path(search: @search, category: 'Weave') do %>
          <button type="button" class="btn btn-light" id="filter-btn"> Weave </button>
        <% end %>
         <%= link_to hairstyles_path(search: @search, category: 'Natural') do %>
          <button type="button" class="btn btn-light" id="filter-btn"> Natural</button>
        <% end %>
       <% end %>
    </div>
  </div>

<!-- <div class="flex-box-search">
  <div class="search-bar">
    <%= form_tag(hairstyles_path, method: :get) do %>
      <%= text_field_tag :search, params[:search], placeholder: "Search a hair-do", class: "search", class: "form-control" %>
      </div>
      <%= submit_tag "Search", class: "button-submit" %>
      <% end %>
 </div> -->


<div class="row justify-content-around p-3">
  <% @hairstyles.each do |hairstyle| %>
    <div class="card m-3">
      <div><!-- <img src="https://i.pinimg.com/564x/9d/e3/a1/9de3a11b805b69605de8797bfeeb31ff.jpg?b=t" style='height: 100%; width: 100%; object-fit: contain'> -->
      <%= cl_image_tag hairstyle.photo, width: 300, height: 200, crop: :fill, class: 'card-image'%>
      </div>
      <div class="card-body">
        <div class="card2">
          <div class="card-body-inner1 transbox">
            <h5 class="card-title" id="title" ><%= link_to hairstyle.name, hairstyle_path(hairstyle) %>
              <h6><%=hairstyle.location%></h6>
            </h5>
            <i class="fas fa-plus-circle"></i>
          </div>
         <!-- <div class="" style="margin: -40px 0 0 0">
          <%= link_to hairstyle.name, hairstyle_path(hairstyle) %>
         </div> -->

          <div class ="card-body-inner2 d-flex">
           <i class="fa fa-heart"></i>
          <i class="fas fa-share-alt"> </i>

            <!--if the user who is logged in created the hairstyle i.e it belongs to that user i can do hairstlye.user because a user belongs_to a hairstyle in the model-->

          <% if hairstyle.user == current_user%>
           <p> <%= link_to "Delete", hairstyle_path(hairstyle), method: :delete, data: { confirm: "Are you sure?" }%></p>
          <%end %>
          </div>
          <!--<p class="card-title"><%= hairstyle.description%></p>-->
      </div>
      </div>
    </div>
  <% end %>
<!--this is a link block- create the block and then add elements inside?-->
      <%= link_to like_hairstyle_path(hairstyle), class: 'like' method: :put do %>
      <i class="fa fa-heart">
      <span><%= hairstyle.get_upvotes.size %><span>
      </i>
    <%end %>

    <!--this is a link block- create the block and then add elements inside?-->
      <%= link_to like_hairstyle_path(hairstyle), class: 'like' method: :put do %>
      <i class="fa fa-heart">
      <span><%= hairstyle.get_downvotes.size %><span>
      </i>
    <%end %>
</div>
