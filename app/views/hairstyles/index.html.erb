<h1 id="index-title">Hair Inspo</h1>
<div class="filters-container">
    <div class="filters">
      <!-- <p>Filter by:</p> -->
      <% if @search != "" %>
        <%= link_to hairstyles_path(search: @search, category: 'Braids') do %>
          <button type="button" class="btn btn-light" id="filter-btn"> Braids </button>
        <% end %>
         <%= link_to hairstyles_path(search: @search, category: 'Relaxed') do %>
          <button type="button" class="btn btn-light" id="filter-btn"> Relaxed </button>
        <% end %>
         <%= link_to hairstyles_path(search: @search, category: 'Weave') do %>
          <button type="button" class="btn btn-light" id="filter-btn"> Weave </button>
        <% end %>
         <%= link_to hairstyles_path(search: @search, category: 'Natural') do %>
          <button type="button" class="btn btn-light" id="filter-btn"> Natural</button>
        <% end %>
       <% end %>
    </div>
  </div>

<!-- <div class="flex-box-search">
  <div class="search-bar">
    <%= form_tag(hairstyles_path, method: :get) do %>
      <%= text_field_tag :search, params[:search], placeholder: "Search a hair-do", class: "search", class: "form-control" %>
      </div>
      <%= submit_tag "Search", class: "button-submit" %>
      <% end %>
 </div> -->


<div class="row justify-content-around p-3">
  <% @hairstyles.each do |hairstyle| %>
    <div class="card m-3">
      <div>
        <%= cl_image_tag hairstyle.photo, width: 300, height: 200, crop: :fill, class: 'card-image'%>
      </div>
      <div class="card-body">
        <div class="card2">
          <div class="card-body-inner1 transbox">
            <h5 class="card-title" id="title" ><%= link_to hairstyle.name, hairstyle_path(hairstyle) %>
              <h6><%=hairstyle.location%></h6>
            </h5>
            <i class="fas fa-plus-circle"></i>
          </div>
         <!-- <div class="" style="margin: -40px 0 0 0">
          <%= link_to hairstyle.name, hairstyle_path(hairstyle) %>
         </div> -->

          <div class ="card-body-inner2 d-flex">
            <%= link_to like_hairstyle_path(hairstyle), method: :put do %>
               <i class="fa fa-heart">
                <span><%= hairstyle.get_upvotes.size %><span>
               </i>
            <% end %>
            <%= link_to dislike_hairstyle_path(hairstyle), method: :put do %>
               <i class="fa fa-heart">
                <span><%= hairstyle.get_downvotes.size %><span>
               </i>
            <% end %>


            <i class="fas fa-share-alt"> </i>
              <!--if the user who is logged in created the hairstyle i.e it belongs to that user i can do hairstlye.user because a user belongs_to a hairstyle in the model this is just hiding the link from users who are not logged in though. if anyone had the URL they could delete the hairstyle. Need to use pundit to give permissions
            <% if current_user == hairstyle.user%>
               <p> <%= link_to "Delete", hairstyle_path(hairstyle), method: :delete, data: { confirm: "Are you sure?" }%></p>
           <%end %> -->

            <!-- if pundit policy permits to delete hairstlye you may delete this is looking at the destroy method in the hairstyle_policy.rb-->
           <% if policy(hairstyle).destroy? %>
              <p><%= link_to "Delete", hairstyle_path(hairstyle),method: :delete, data: { confirm: "Are you sure?" }%></p>
           <% end %>
          </div>
        </div>
      </div>
    </div>
  <% end %>
</div>


